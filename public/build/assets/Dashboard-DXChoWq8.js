import{g as y,f as o,c as $,_ as w,a as k,b as D,d as u,e as A}from"./dayjs.min-Dd5p77Vg.js";import{d as g,b as T,c as b,o as d,w as e,j as t,u as l,l as n,x as i,a as x,h as B,v as j,k as f,p as v,F as h,s as C,A as F}from"./app-DzpzRRre.js";import{_ as L}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BCTk5EBR.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-CxgicHKJ.js";import"./echo-ClkwrYP1.js";import"./useForwardExpose-60uHutlN.js";import"./RovingFocusGroup-DCihDAJt.js";const V=g({__name:"AuctionRow",props:{auction:{type:Object,required:!0}},setup(m){const s=m,_=T(()=>y(s.auction.date).format("D MMM YYYY"));return(c,r)=>(d(),b(l($),{class:"cursor-pointer"},{default:e(()=>[t(l(o),null,{default:e(()=>[n(i(s.auction.id),1)]),_:1}),t(l(o),{style:{width:"40rem","min-width":"40rem","max-width":"40rem"},class:"whitespace-normal"},{default:e(()=>[n(i(s.auction.title),1)]),_:1}),t(l(o),null,{default:e(()=>[n(i(_.value),1)]),_:1}),t(l(o),null,{default:e(()=>[n(i(s.auction.status),1)]),_:1}),t(l(o),null,{default:e(()=>[n(i(s.auction.total_vehicles_count),1)]),_:1}),t(l(o),null,{default:e(()=>[n(i(s.auction.unconfigured_vehicles_count),1)]),_:1}),t(l(o),null,{default:e(()=>[n(i(s.auction.won_vehicles_count),1)]),_:1}),t(l(o),null,{default:e(()=>[n(i(s.auction.lost_vehicles_count),1)]),_:1}),t(l(o),null,{default:e(()=>[n(i(s.auction.outbudgeted_vehicles_count),1)]),_:1})]),_:1}))}}),Y={key:0},N={key:1},S={class:"mb-4 flex justify-center"},O=g({__name:"AuctionsTable",setup(m){const s=x([]),_=x(!0),c=r=>{const a=r.replace(",","").replace(/\s/g,"-");location.replace(`/auction/${a}`)};return B(async()=>{try{const r=await j.get("/api/auction/get_all");s.value=r.data,console.log(`There are ${s.value.length} auctions`)}catch(r){console.error("Failed to fetch auctions:",r)}finally{_.value=!1}}),(r,a)=>_.value?(d(),f("div",Y,"Loading...")):(d(),f("div",N,[v("div",S,[t(l(L),{class:"cursor-pointer bg-green-500 text-white"},{default:e(()=>a[0]||(a[0]=[n(" Force Scrape Auctions ")])),_:1})]),t(l(w),null,{default:e(()=>[t(l(k),null,{default:e(()=>a[1]||(a[1]=[n("A list of all auctions")])),_:1}),t(l(D),null,{default:e(()=>[t(l($),null,{default:e(()=>[t(l(u),null,{default:e(()=>a[2]||(a[2]=[n("ID")])),_:1}),t(l(u),null,{default:e(()=>a[3]||(a[3]=[n("Title")])),_:1}),t(l(u),null,{default:e(()=>a[4]||(a[4]=[n("Date")])),_:1}),t(l(u),null,{default:e(()=>a[5]||(a[5]=[n("Status")])),_:1}),t(l(u),null,{default:e(()=>a[6]||(a[6]=[n("Vehicles")])),_:1}),t(l(u),null,{default:e(()=>a[7]||(a[7]=[n("Unconfigured")])),_:1}),t(l(u),null,{default:e(()=>a[8]||(a[8]=[n("Won")])),_:1}),t(l(u),null,{default:e(()=>a[9]||(a[9]=[n("Lost")])),_:1}),t(l(u),null,{default:e(()=>a[10]||(a[10]=[n("Out Budgeted")])),_:1})]),_:1})]),_:1}),t(l(A),{class:"max-h-[80vh] min-h-[80vh] overflow-y-auto"},{default:e(()=>[(d(!0),f(h,null,C(s.value,p=>(d(),b(V,{key:p.id,auction:p,onClick:E=>c(p.title)},null,8,["auction","onClick"]))),128))]),_:1})]),_:1})]))}}),q={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},J=g({__name:"Dashboard",setup(m){const s=[{title:"Dashboard",href:"/dashboard"}];return(_,c)=>(d(),f(h,null,[t(l(F),{title:"Dashboard"}),t(M,{breadcrumbs:s},{default:e(()=>[v("div",q,[v("div",null,[t(O)])])]),_:1})],64))}});export{J as default};
