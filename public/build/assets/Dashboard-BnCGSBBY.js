import{g as k,f as o,c as y,_ as D,a as T,b as A,d as u,e as B}from"./dayjs.min-Unooyttk.js";import{d as g,m as C,g as h,o as d,w as e,a as t,u as a,b as n,t as i,r as $,f as F,i as b,c as f,e as v,F as w,h as L,v as M}from"./app-CNrRQ6az.js";import{_ as S}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CCYzkzUS.js";import{_ as V}from"./AppLayout.vue_vue_type_script_setup_true_lang-B326Q0_d.js";import"./echo-ClkwrYP1.js";import"./useForwardExpose-CQbp9g7N.js";import"./RovingFocusGroup-Basdj6HP.js";const Y=g({__name:"AuctionRow",props:{auction:{type:Object,required:!0}},setup(m){const s=m,c=C(()=>k(s.auction.date).format("D MMM YYYY"));return(_,x)=>(d(),h(a(y),{class:"cursor-pointer"},{default:e(()=>[t(a(o),null,{default:e(()=>[n(i(s.auction.id),1)]),_:1}),t(a(o),{style:{width:"40rem","min-width":"40rem","max-width":"40rem"},class:"whitespace-normal"},{default:e(()=>[n(i(s.auction.title),1)]),_:1}),t(a(o),null,{default:e(()=>[n(i(c.value),1)]),_:1}),t(a(o),null,{default:e(()=>[n(i(s.auction.status),1)]),_:1}),t(a(o),null,{default:e(()=>[n(i(s.auction.total_vehicles_count),1)]),_:1}),t(a(o),null,{default:e(()=>[n(i(s.auction.unconfigured_vehicles_count),1)]),_:1}),t(a(o),null,{default:e(()=>[n(i(s.auction.won_vehicles_count),1)]),_:1}),t(a(o),null,{default:e(()=>[n(i(s.auction.lost_vehicles_count),1)]),_:1}),t(a(o),null,{default:e(()=>[n(i(s.auction.outbudgeted_vehicles_count),1)]),_:1})]),_:1}))}}),j={key:0},N={key:1},O={class:"mb-4 flex justify-center"},q=g({__name:"AuctionsTable",setup(m){const s=$([]),c=$(!0),_=r=>{const l=r.replace(",","").replace(/\s/g,"-");location.replace(`/auction/${l}`)},x=async()=>{const r=await b.post("/api/auction/scrape");alert(r.data.message)};return F(async()=>{try{const r=await b.get("/api/auction/get_all");s.value=r.data,console.log(`There are ${s.value.length} auctions`)}catch(r){console.error("Failed to fetch auctions:",r)}finally{c.value=!1}}),(r,l)=>c.value?(d(),f("div",j,"Loading...")):(d(),f("div",N,[v("div",O,[t(a(S),{class:"cursor-pointer bg-green-500 text-white",onClick:x},{default:e(()=>l[0]||(l[0]=[n(" Force Scrape Auctions ")])),_:1})]),t(a(D),null,{default:e(()=>[t(a(T),null,{default:e(()=>l[1]||(l[1]=[n("A list of all auctions")])),_:1}),t(a(A),null,{default:e(()=>[t(a(y),null,{default:e(()=>[t(a(u),null,{default:e(()=>l[2]||(l[2]=[n("ID")])),_:1}),t(a(u),null,{default:e(()=>l[3]||(l[3]=[n("Title")])),_:1}),t(a(u),null,{default:e(()=>l[4]||(l[4]=[n("Date")])),_:1}),t(a(u),null,{default:e(()=>l[5]||(l[5]=[n("Status")])),_:1}),t(a(u),null,{default:e(()=>l[6]||(l[6]=[n("Vehicles")])),_:1}),t(a(u),null,{default:e(()=>l[7]||(l[7]=[n("Unconfigured")])),_:1}),t(a(u),null,{default:e(()=>l[8]||(l[8]=[n("Won")])),_:1}),t(a(u),null,{default:e(()=>l[9]||(l[9]=[n("Lost")])),_:1}),t(a(u),null,{default:e(()=>l[10]||(l[10]=[n("Out Budgeted")])),_:1})]),_:1})]),_:1}),t(a(B),{class:"max-h-[80vh] min-h-[80vh] overflow-y-auto"},{default:e(()=>[(d(!0),f(w,null,L(s.value,p=>(d(),h(Y,{key:p.id,auction:p,onClick:I=>_(p.title)},null,8,["auction","onClick"]))),128))]),_:1})]),_:1})]))}}),E={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},K=g({__name:"Dashboard",setup(m){const s=[{title:"Dashboard",href:"/dashboard"}];return(c,_)=>(d(),f(w,null,[t(a(M),{title:"Dashboard"}),t(V,{breadcrumbs:s},{default:e(()=>[v("div",E,[v("div",null,[t(q)])])]),_:1})],64))}});export{K as default};
