import{l as D,f as r,c as Y,_ as j,a as B,b as T,d as _,e as V,h as A,i as L,j as S,k as F,g as N}from"./dayjs.min-D7PDN_2m.js";import{d as h,p as O,h as g,o as c,w as e,b as n,u as s,e as o,t as a,a as y,g as U,j as $,c as p,f as l,F as v,i as k,v as W}from"./app-C3fIfT_E.js";import{_ as w}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CL4hBmRi.js";import{_ as q}from"./AppLayout.vue_vue_type_script_setup_true_lang-W-fchXaC.js";import"./echo-ClkwrYP1.js";import"./useForwardExpose-Ddjjyw5O.js";import"./RovingFocusGroup-CUD5wt1q.js";const E=h({__name:"AuctionRow",props:{auction:{type:Object,required:!0}},setup(x){const d=x,m=O(()=>D(d.auction.date).format("D MMM YYYY"));return(f,b)=>(c(),g(s(Y),{class:"cursor-pointer"},{default:e(()=>[n(s(r),null,{default:e(()=>[o(a(d.auction.id),1)]),_:1}),n(s(r),{style:{width:"40rem","min-width":"40rem","max-width":"40rem"},class:"whitespace-normal"},{default:e(()=>[o(a(d.auction.title),1)]),_:1}),n(s(r),null,{default:e(()=>[o(a(m.value),1)]),_:1}),n(s(r),null,{default:e(()=>[o(a(d.auction.status),1)]),_:1}),n(s(r),null,{default:e(()=>[o(a(d.auction.total_vehicles_count),1)]),_:1}),n(s(r),null,{default:e(()=>[o(a(d.auction.unconfigured_vehicles_count),1)]),_:1}),n(s(r),null,{default:e(()=>[o(a(d.auction.won_vehicles_count),1)]),_:1}),n(s(r),null,{default:e(()=>[o(a(d.auction.lost_vehicles_count),1)]),_:1}),n(s(r),null,{default:e(()=>[o(a(d.auction.outbudgeted_vehicles_count),1)]),_:1})]),_:1}))}}),I={key:0},R={key:1},z={class:"mb-4 flex justify-center"},G={class:"mb-2 space-y-1"},H={class:"text-md leading-none font-medium"},J={class:"text-muted-foreground text-md"},K={class:"mb-2 space-y-1"},P={class:"text-md leading-none font-medium"},Q={class:"text-muted-foreground text-md"},X={class:"mb-2 space-y-1"},Z={class:"text-md leading-none font-medium"},tt={class:"text-muted-foreground text-md"},et={class:"mb-2 space-y-1"},st={class:"text-md leading-none font-medium"},nt={class:"text-muted-foreground text-md"},ot={class:"mb-2 space-y-1"},lt={class:"text-md leading-none font-medium"},at={class:"text-muted-foreground text-md"},dt={class:"mb-2 space-y-1"},ut={class:"text-md leading-none font-medium"},it={class:"text-muted-foreground text-md"},rt={class:"mb-2 space-y-1"},_t={class:"text-md leading-none font-medium"},ct={class:"text-muted-foreground text-md"},mt=h({__name:"AuctionsTable",setup(x){const d=y([]),m=y(!0),f=i=>{const t=i.replace(",","").replace(/\s/g,"-");location.replace(`/auction/${t}`)},b=async()=>{const i=await $.post("/api/auction/scrape");alert(i.data.message)},C=i=>D(i).format("D MMM YYYY");return U(async()=>{try{const i=await $.get("/api/auction/get_all");d.value=i.data,console.log(`There are ${d.value.length} auctions`)}catch(i){console.error("Failed to fetch auctions:",i)}finally{m.value=!1}}),(i,t)=>m.value?(c(),p("div",I,"Loading...")):(c(),p("div",R,[l("div",z,[n(s(w),{class:"cursor-pointer bg-green-500 text-white",onClick:b},{default:e(()=>t[0]||(t[0]=[o(" Force Scrape Auctions ")])),_:1})]),n(s(j),{class:"hidden md:block"},{default:e(()=>[n(s(B),null,{default:e(()=>t[1]||(t[1]=[o("A list of all auctions")])),_:1}),n(s(T),null,{default:e(()=>[n(s(Y),null,{default:e(()=>[n(s(_),null,{default:e(()=>t[2]||(t[2]=[o("ID")])),_:1}),n(s(_),null,{default:e(()=>t[3]||(t[3]=[o("Title")])),_:1}),n(s(_),null,{default:e(()=>t[4]||(t[4]=[o("Date")])),_:1}),n(s(_),null,{default:e(()=>t[5]||(t[5]=[o("Status")])),_:1}),n(s(_),null,{default:e(()=>t[6]||(t[6]=[o("Vehicles")])),_:1}),n(s(_),null,{default:e(()=>t[7]||(t[7]=[o("Unconfigured")])),_:1}),n(s(_),null,{default:e(()=>t[8]||(t[8]=[o("Won")])),_:1}),n(s(_),null,{default:e(()=>t[9]||(t[9]=[o("Lost")])),_:1}),n(s(_),null,{default:e(()=>t[10]||(t[10]=[o("Out Budgeted")])),_:1})]),_:1})]),_:1}),n(s(V),{class:"max-h-[80vh] min-h-[80vh] overflow-y-auto"},{default:e(()=>[(c(!0),p(v,null,k(d.value,u=>(c(),g(E,{key:u.id,auction:u,onClick:M=>f(u.title)},null,8,["auction","onClick"]))),128))]),_:1})]),_:1}),(c(!0),p(v,null,k(d.value,u=>(c(),g(s(N),{class:"block md:hidden",key:u.id,auction:u},{default:e(()=>[n(s(A),null,{default:e(()=>[n(s(L),null,{default:e(()=>[o(a(u.title),1)]),_:2},1024)]),_:2},1024),n(s(S),{class:"mt-3"},{default:e(()=>[l("div",G,[l("p",H,[t[11]||(t[11]=o(a("Date: ")+" ")),l("span",J,a(C(u.date)),1)])]),l("div",K,[l("p",P,[t[12]||(t[12]=o(a("Status: ")+" ")),l("span",Q,a(u.status),1)])]),l("div",X,[l("p",Z,[t[13]||(t[13]=o(a("Vehicles: ")+" ")),l("span",tt,a(u.total_vehicles_count),1)])]),l("div",et,[l("p",st,[t[14]||(t[14]=o(a("Unconfigured: ")+" ")),l("span",nt,a(u.total_vehicles_count),1)])]),l("div",ot,[l("p",lt,[t[15]||(t[15]=o(a("Won: ")+" ")),l("span",at,a(u.total_vehicles_count),1)])]),l("div",dt,[l("p",ut,[t[16]||(t[16]=o(a("Lost: ")+" ")),l("span",it,a(u.total_vehicles_count),1)])]),l("div",rt,[l("p",_t,[t[17]||(t[17]=o(a("Out Budgeted: ")+" ")),l("span",ct,a(u.total_vehicles_count),1)])])]),_:2},1024),n(s(F),{class:"flex justify-center px-6 pt-3 pb-2"},{default:e(()=>[n(s(w),{class:"mx-4 cursor-pointer bg-green-500 text-white",onClick:M=>f(u.title)},{default:e(()=>t[18]||(t[18]=[o(" View ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["auction"]))),128))]))}}),ft={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},$t=h({__name:"Dashboard",setup(x){const d=[{title:"Dashboard",href:"/dashboard"}];return(m,f)=>(c(),p(v,null,[n(s(W),{title:"Dashboard"}),n(q,{breadcrumbs:d},{default:e(()=>[l("div",ft,[l("div",null,[n(mt)])])]),_:1})],64))}});export{$t as default};
